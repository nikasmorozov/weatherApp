{"id":"Focm","dependencies":[{"name":"/Users/nikas/Documents/weatherApp/package.json","includedInParent":true,"mtime":1585653151551},{"name":"./utilities","loc":{"line":1,"column":47},"parent":"/Users/nikas/Documents/weatherApp/src/index.js","resolved":"/Users/nikas/Documents/weatherApp/src/utilities/index.js"},{"name":"./latinise_utility","loc":{"line":2,"column":29},"parent":"/Users/nikas/Documents/weatherApp/src/index.js","resolved":"/Users/nikas/Documents/weatherApp/src/latinise_utility/index.js"}],"generated":{"js":"var e=require(\"./utilities\"),t=e.createDomElement,a=e.addToDom,o=require(\"./latinise_utility\"),n=o.latinise,s=t(\"div\",{id:\"searchGroup\"}),c=t(\"input\",{id:\"cityToSearch\"});c.placeholder=\"paieška\";var r=null,d=null,l=null,u=null,m=t(\"div\",{className:\"preloader\"}),p=t(\"button\",{className:\"findMyLocationButton\"});p.addEventListener(\"click\",function(){g(),a(weatherApp,m)});var h=t(\"ul\",{className:\"locationsCard\"});function f(){fetch(\"https://cors-anywhere.herokuapp.com/https://api.meteo.lt/v1/places\",{headers:{\"X-Requested-With\":\"XMLHttpRequest\"}}).then(function(e){return e.json()}).then(function(e){d=e,c.addEventListener(\"input\",v)}).catch(function(e){console.log(\"failed to fetch locations list\")})}function v(){var e=d.filter(function(e){if(e.code.includes(c.value.toLowerCase())&&c.value)return!0});h.innerHTML=null,a(s,h);var o=function(){var o=t(\"button\",{});null!=e[i]&&(o.textContent=e[i].name,o.id=e[i].code,a(h,o)),o.className=r?\"buttonBackgroundWarm\":\"buttonBackgroundCold\",o.addEventListener(\"click\",function(){L(o.id)})};for(i=0;i<12;i++)o()}function L(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"vilnius\";a(weatherApp,m),l=\"https://cors-anywhere.herokuapp.com/http://api.meteo.lt/v1/places/\".concat(e,\"/forecasts/long-term\"),\"balbieriskis\"==e.toLowerCase()&&(l=\"https://cors-anywhere.herokuapp.com/http://api.meteo.lt/v1/places/balbieriskis/forecasts/long-term\"),fetch(l,{headers:{\"X-Requested-With\":\"XMLHttpRequest\"}}).then(function(e){return e.json()}).then(function(e){b(e)}).catch(function(e){console.log(e),console.log(\"failed to fetch weather data\")})}function b(e){console.log(e),c.value=null;var o=document.getElementById(\"weatherApp\");r=e.forecastTimestamps[0].airTemperature>0,\"balbieriskis\"==e.place.code&&(r=!r),u&&u.remove(),m.remove(),u=t(\"div\",{className:\"weatherCard\"}),a(s,p),r?(u.classList.add(\"AboveZero\"),c.style.backgroundColor=\"#ffe48a\"):(u.classList.add(\"BelowZero\"),p.classList.add(\"BelowZero\"),c.style.backgroundColor=\"#b2ebf2\"),a(o,u),a(s,c),a(u,s);var n=t(\"div\",{className:\"nextHoursWeather\"});for(i=0;i<=12;i++){switch(e.forecastTimestamps[i].conditionCode){case\"clear\":conditionCodeLt=\"giedra\";break;case\"isolated-clouds\":conditionCodeLt=\"mažai debesuota\";break;case\"scattered-clouds\":conditionCodeLt=\"debesuota su pragiedruliais\";break;case\"overcast\":conditionCodeLt=\"debesuota\";break;case\"light-rain\":conditionCodeLt=\"nedidelis lietus\";break;case\"moderate-rain\":conditionCodeLt=\"lietus\";break;case\"heavy-rain\":conditionCodeLt=\"smarkus lietus\";break;case\"sleet\":conditionCodeLt=\"šlapdriba\";break;case\"light-snow\":conditionCodeLt=\"nedidelis sniegas\";break;case\"moderate-snow\":conditionCodeLt=\"sniegas\";break;case\"heavy-snow\":conditionCodeLt=\"smarkus sniegas\";break;case\"fog\":conditionCodeLt=\"rūkas\";break;case\"na\":conditionCodeLt=\"oro sąlygos nenustatytos\"}var d=t(\"div\",{className:\"timeStamp\"}),l=t(\"h4\",{textContent:e.forecastTimestamps[i+2].forecastTimeUtc.slice(11,16)});l.classList.add(\"utcTime\");var f=t(\"div\",{});f.classList.add(\"weatherIcon\"),f.classList.add(e.forecastTimestamps[i].conditionCode),temperatureValue=e.forecastTimestamps[i].airTemperature.toFixed(0),\"-0\"===temperatureValue&&(temperatureValue=0);var v=t(\"h2\",{innerHTML:temperatureValue+\"&deg;\"});if(v.classList.add(\"temperature\"),a(d,l),a(d,f),a(d,v),0==i){var L=t(\"h3\",{textContent:e.place.name});a(d,L);var b=t(\"h4\",{innerHTML:conditionCodeLt});a(u,d),l.textContent=\"dabar\",l.classList.add(\"utcTime-big\"),a(d,l),f.classList.add(\"weatherIcon-big\"),a(d,f),v.classList.add(\"temperature-big\"),a(d,v),b.classList.add(\"weatherConditions-big\"),a(d,b)}a(u,n),i>0&&(d.classList.add(\"timeStamp-small\"),a(n,d),a(d,f),a(d,v),a(d,l))}var g=t(\"p\",{textContent:\"Duomenų šaltinis: LHMT\"});g.classList.add(\"sourceMentioning\"),a(u,g),h.innerHTML=null}function g(){p.remove(),navigator.geolocation.getCurrentPosition(function(e){var t=e.coords;console.log(\"Latitude : \".concat(t.latitude)),console.log(\"Longitude: \".concat(t.longitude)),fetch(\"https://eu1.locationiq.com/v1/reverse.php?key=pk.003de9fcbbfbb48f532138a23ccbf018&lat=\".concat(t.latitude,\"&lon=\").concat(t.longitude,\"&format=json\")).then(function(e){return e.json()}).then(function(e){var t=null;e.address.state&&(t=e.address.state.toLowerCase().split(\" \")[0].latinise()),e.address.city&&(t=e.address.city.toLowerCase().latinise()),e.address.town&&(t=e.address.town.toLowerCase().latinise()),L(t),console.log(t)}).catch(function(e){console.log(e),console.log(\"failed to fetch geocode\")})},function(e){console.warn(\"ERROR(\".concat(e.code,\"): \").concat(e.message))},e);var e={enableHighAccuracy:!0,timeout:1e4,maximumAge:0}}f(),L();"},"sourceMaps":null,"error":null,"hash":"43d5d65b61ac5dbd231b177f10496db7","cacheData":{"env":{}}}